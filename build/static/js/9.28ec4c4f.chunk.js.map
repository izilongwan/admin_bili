{"version":3,"sources":["config/index.js","utils/tools.js","api/config.js","utils/request.js","assets/images/cover-img-lazy.png","assets/images/avatar-lazy.webp","components/Index/Common/Title.jsx","api/crawl.js","api/data.js","components/Index/Context/common.js","components/Index/Context/index.js","components/Common/Column/CoverImg.jsx","components/Common/Column/NumId.jsx","components/Common/Column/Selector.jsx","components/Common/Column/Status.jsx","components/Common/Column/Switch.jsx","components/Common/ColumnSearchProps/index.jsx","components/Common/Column/Title.jsx","components/Common/Column/UpName.jsx","components/Common/Column/UpdatedAt.jsx","components/Common/Column/ThumbCount.jsx","components/Common/Column/PlayCount.jsx","components/Common/Column/Duration.jsx","components/Common/Column/UpImg.jsx","components/Common/Column/LiveCount.jsx","components/Common/Column/TagType.jsx","components/Common/Column/SelectTags.jsx","components/Common/Column/Tags.jsx","components/Common/Column/Score.jsx","components/Common/Column/PopupCount.jsx","components/Common/Columns/Carousel.jsx","components/Common/Columns/Crawler.jsx","components/Common/Columns/ESports.jsx","components/Common/Columns/Live.jsx","components/Common/Columns/Promote.jsx","components/Common/Columns/Default.jsx","components/Common/Columns/Default2.jsx","components/Common/Column/LatestTip.jsx","components/Common/Column/FavCount.jsx","components/Common/Columns/Origin.jsx","components/Common/Columns/Record.jsx","components/Index/Common/Content.jsx","pages/Index/Common/index.jsx"],"names":["h","baseURL","SIDEBAR_MENU","text","path","DURATION","value","BILI","TITLE","CRAWLER","color","FIELD","asyncFunc","fn","a","data","code","retCode","retBody","msg","retMsg","message","makeCrypto","str","md5","create","update","hex","findParent","tar","className","classList","contains","parentNode","document","formatCount","count","includes","parseInt","sorter","b","thumb_count","COMMON_API","GET_DATA","SEARCH_DATA","UPDATE_DATA_STATUS","UPDATE_DATA_TAGS","CRAWL_DATA","AUTO_ASYNC_DATA","CAPTCHA","service","axios","timeout","withCredentials","args","module","exports","Title","props","pathname","loading","contentRef","title","onClick","field","slice","current","setRefreshClearFilterCount","c","refreshData","SyncOutlined","spin","req","method","params","request","url","API","crawlerSettings","getData","updateData","common","React","createContext","CoverImg","dataIndex","align","fixed","width","render","img","href","rel","target","style","backgroundImage","lazyImg","height","src","alt","NumId","item","record","index","useContext","pagination","ItemNum","pageSize","Option","Select","Selector","id","duration","durationLoading","onSelectCrawlerDuration","defaultValue","onChange","map","idx","key","Status","filters","onFilter","status","toString","statusLoading","ghost","data-type","data-status","icon","DownloadOutlined","UploadOutlined","type","AutoAsyncSwitch","switchLoading","switch_type","onAutoAsyncDataChange","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","defaultChecked","checked","ref","FilterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","onSearchData","onRestoreSearch","refreshClearFilterCount","useLocation","useState","isFirst","setIsFirst","handleSearch","kw","length","handleReset","useCallback","useEffect","padding","node","placeholder","e","onPressEnter","marginBottom","display","SearchOutlined","size","marginRight","ColumnSearchProps","filterDropdown","opts","filterIcon","filtered","undefined","toLowerCase","onFilterDropdownVisibleChange","visible","setTimeout","input","select","UpName","up_href","UpdatedAt","ThumbCount","PlayCount","Duration","UpImg","LiveCount","TagType","colors","maxIdx","tagRender","label","closable","onClose","Math","floor","random","SelectTags","tags","tagsLoading","onSelectChange","mode","Tags","Score","score","PopupCount","popup_count","ColumnsCarousel","ColumnsCrawler","crawlLoading","ColumnsESports","ColumnsLive","ColumnsPromote","ColumnsDefault","ColumnsDefault2","fav_count","ColumnsOrigin","ColumnsRecord","Provider","API_MODELS","1","2","APIData","COLUMNS","bangumi","movie","full","rookie","carousel","crawler","e_sports","live","promote","origin","CommonContent","forwardRef","cache","setCache","setLoading","columns","setColumns","push","useHistory","setData","setPageSize","currentPage","setCurrentPage","searchCount","setSearchCount","curPathname","setCurPathname","isCrawlerSettings","_setCache","curPage","pgSize","newData","total","obj","checkCache","res","ret","APICrawl","page","num","err","res0","error","result","JSON","parse","success","returnNewData","newItem","d","modelType","Object","assign","isStatusLoading","isDurationLoading","isTagsLoading","isSwitchLoading","hasOwnProperty","call","data0","resetData","crawling","onPageChange","onShowSizeChange","showTotal","showQuickJumper","showSizeChanger","commonValue","useImperativeHandle","onRow","ev","window","event","srcElement","parent","dataset","onTableClick","scroll","y","rowKey","dataSource","useRef","titleProps","childrenProps","Content"],"mappings":"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","file":"static/js/9.28ec4c4f.chunk.js","sourcesContent":["const m = 60 * 1000,\n      h = 60 * m;\n\nexport const baseURL = process.env.NODE_ENV === 'development'\n  ? 'http://localhost:8000/api'\n  : 'bili-izilongwan.vercel.app';\n\nexport const SIDEBAR_MENU = [\n  { text: '数据爬虫', path: '/crawler' },\n  { text: '轮播图', path: '/carousel' },\n  { text: '日常记录', path: '/record' },\n  { text: '推广', path: '/promote' },\n  { text: '电竞赛事', path: '/e_sports' },\n  { text: '直播ing', path: '/live' },\n  { text: '全站榜', path: '/full' },\n  { text: '原创榜', path: '/origin' },\n  { text: '新番榜', path: '/bangumi' },\n  { text: '电影榜', path: '/movie' },\n  { text: '新人榜', path: '/rookie' },\n]\n\nexport const MESSAGE = {\n  NETWORK_ERROR: '网络请求错误',\n  SERVER_ERROR: '服务端错误',\n  REFRESH_DATA: '数据刷新成功',\n  CHNAGE_DRUATION: '爬取时间修改成功'\n}\n\nexport const DURATION = [\n  { value:  h, text: '每一小时' },\n  { value:  2 * h, text: '每两小时' },\n  { value:  3 * h, text: '每三小时' },\n  { value:  5 * h, text: '每五小时' },\n  { value:  10 * h, text: '每十小时' },\n  { value:  24 * h, text: '每十小时' }\n]\n\nexport const BILI = {\n  TITLE: {\n    '/carousel': '轮播图',\n    '/record': '日常记录',\n    '/promote': '推广',\n    '/e_sports': '电竞赛事',\n    '/live': '直播ing',\n    '/full': '全站榜',\n    '/origin': '原创榜',\n    '/bangumi': '新番榜',\n    '/movie': '电影榜',\n    '/rookie': '新人榜',\n    '/crawler': '数据爬虫'\n  },\n  CRAWLER: [\n    {\n      color: 'magenta',\n      text: '爬取所有',\n    },\n    {\n      text: '爬取',\n      color: 'red'\n    },\n    {\n      text: '爬取',\n      color: 'volcano'\n    },\n    {\n      text: '爬取',\n      color: 'lime'\n    },\n    {\n      text: '爬取',\n      color: 'orange'\n    },\n    {\n      text: '爬取',\n      color: 'gold'\n    },\n    {\n      text: '爬取',\n      color: 'purple'\n    },\n    {\n      text: '爬取',\n      color: 'green'\n    },\n    {\n      text: '爬取',\n      color: 'blue'\n    },\n    {\n      text: '爬取',\n      color: 'geekblue'\n    },\n  ],\n  FIELD: ['全站', '动画', '国创相关', '舞蹈', '音乐', '游戏', '科技', '数码', '生活', '鬼畜', '时尚', '娱乐', '电影', '番剧', '国产动画', '纪录片', '电影', '电视'],\n}\n\nexport default {\n  SIDEBAR_MENU,\n\n  MESSAGE,\n\n  DURATION,\n\n  BILI,\n}\n","import md5 from 'js-md5'\n\nexport const asyncFunc = async (fn) => {\n  try {\n    const { data: { retCode: code, retBody, retMsg: msg } } = await fn();\n\n    if (code === 0) {\n      return [null, retBody]\n    }\n\n    return [{ code, msg }]\n  } catch (err) {\n    err.message && (err.msg = err.message)\n    return [err];\n  }\n}\n\nexport const makeCrypto = (str) =>\n  md5.create().update(str).hex()\n\nexport const findParent = (tar, className) => {\n  while (tar.classList &&\n    !tar.classList.contains(className)\n  ) {\n    tar = tar.parentNode;\n  }\n\n  return tar === document ? null : tar;\n}\n\nexport function formatCount(count, str) {\n  if (!count) {\n    return count\n  }\n\n  return count.includes(str) ? parseInt(count) * 10000 : count\n}\n\nexport function sorter(a, b) {\n  const str = '万';\n  const aCount = formatCount(a.thumb_count, str)\n  const bCount = formatCount(b.thumb_count, str)\n\n  return aCount - bCount;\n}\n","import { baseURL } from '@/config';\n\nexport default {\n  COMMON_API: '',\n  GET_DATA: 'data/get_data',\n  SEARCH_DATA: 'data/search_data',\n  UPDATE_DATA_STATUS: 'data/update_data_status',\n  UPDATE_DATA_TAGS: 'data/update_data_tags',\n  CRAWL_DATA: 'crawler/crawl_data',\n  AUTO_ASYNC_DATA: 'crawler/auto_async_data'\n}\n\nexport const CAPTCHA = baseURL + '/captcha';\n","import axios from 'axios'\n\nimport { baseURL } from '@/config';\nimport { asyncFunc } from './tools'\n\nconst service = axios.create({\n  baseURL,\n  timeout: 60 * 1000,\n  withCredentials: true\n})\n\nexport default async (...args) => asyncFunc(() => service(...args))\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABHCAMAAAB4UkqjAAAAh1BMVEUAAADd3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0UCIZXAAAALHRSTlMAoJDx4OYL/DcGF+6+JNi4ycSIT2k6LPeWfRzTVPXPszEQrV0hpo12cEZAZFpRNIQAAAJVSURBVFjD7dbZcpswGIbhHwwSi81q8Ib33fnu//oatRIpmliDhQ/aaZ+TKInnjVgkhb4RJMhP9Fzo8PiD+vEA+JPnqS0+1dRHBJhibAzh2HNeekxP9Z8XBSMZM6SmRBYx65QeM6XsY3rKPqanLGMWqeDmOh0b/Io9+YHi3gKtdExgLznSlyjFMGnUphIMlcgY22C4DSPBxTu4IrXDe+yI6IDWbPSqGVoHoohDyip6XZVB4hFN1TgPyUaYQ5rSWQ0nZGcC6UyJukKypa4yIXX3HLLlqCdHX++HLRfS/9bbWvvHLSLNR3N6tRXdFwdxejekiYF4fDnWYa/WqSm2PqRCSy0hrbP5RxAaW8141N17tVbZ+S1fFYbWFF2+1lqg62BoBdAsqWOLroWhxTh+M8vmWuuaxp1WaWjRSn43yl35sHTLUjxiaWlqnYE4LZoJme3v13MibqepFZRL6otV5V+/Hv+xVvi+FsvZG1qh/LQ7uFXnF/HlwcEfYlDktW2r5EARUiXWc1xRWAC8tGwxsdJ9dcRnYrddMdtrjDZyAy3kXrSJ7O89u8zEZAIKxBRnFzbonWD3ZkfCrrmzP+6979nicjAnW3NZ4OS1R6GtVBa8drTek539up3NAgMvcv51WNZQitCiFBZQaqIMSrx1XrWNoWTy/w1r+hk+xjuMSVjGGC6WZ3S1xlDriqTKxzB+Ra3I4bDHne62drqmied57QR9z0D94dHnOEmvJ/pWAMm4ovL2TTcJ5cRyMlHrbkdG5c/5r82fYqt+K/iR89m2JrP9PEZyI80PsPxVT0P3FAEAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/avatar-lazy.fa56ccfe.webp\";","import React from 'react'\nimport { Tag } from 'antd';\nimport { SyncOutlined } from '@ant-design/icons';\nimport { BILI } from '@/config';\n\nconst { TITLE } = BILI;\n\nconst Title = (props) => {\n  const { pathname, loading, contentRef } = props\n  const title = TITLE[pathname];\n\n  const refreshData = () => {\n    const field = pathname.slice(1)\n\n    contentRef.current.setRefreshClearFilterCount(c => c + 1)\n    contentRef.current.refreshData(field)\n  }\n\n  return (\n    title\n      ? (\n        <div className=\"content-header\">\n          <h3 className=\"title\">{ title } { loading }</h3>\n\n          <Tag color=\"green\" className=\"refresh\" onClick={ refreshData }>\n            <span className=\"text\">刷新</span>\n            <SyncOutlined spin={ loading } />\n          </Tag>\n        </div>\n      )\n      : null\n  )\n}\n\nexport default Title\n","import request from '@/utils/request'\nimport API from './config'\n\nconst req = (method, params) =>\n  request({\n    url: API.COMMON_API,\n    method: 'post',\n    data: {\n      module: 'crawler',\n      method,\n      params\n    }\n  })\n\nexport const crawlerData = (params) => req('crawlerData', params)\n\nexport const crawlerSettings = (params) => req('crawlerSettings', params)\n\nexport const crawlerSettingsUpdate = (params) => req('crawlerSettingsUpdate', params)\n","import request from '@/utils/request'\nimport API from './config'\n\nconst req = (method, params) =>\n  request({\n    url: API.COMMON_API,\n    method: 'post',\n    data: {\n      module: 'data',\n      method,\n      params\n    }\n  })\n\nexport const getData = (params) => req('getData', params)\n\nexport const searchData = (params) => req('searchData', params)\n\nexport const updateData = (params) => req('updateData', params)\n","import React from 'react'\n\nexport const common = React.createContext()","import React from 'react'\n\nexport * from './common'\n\nexport default React.createContext();\n","import React from 'react';\nimport LazyLoad from 'react-lazy-load';\nimport lazyImg from '@/assets/images/cover-img-lazy.png';\n\nexport const CoverImg = {\n  title: () => <em className=\"tb-title\">封面图片</em>,\n  dataIndex: 'img',\n  align: 'center',\n  fixed: 'left',\n  width: 150,\n  render: (img, { title, href }) => (\n    <a\n      href={ href }\n      rel=\"noopener noreferrer\"\n      target=\"_blank\"\n      className=\"bili-img-wrap\"\n      style={ { backgroundImage: `url(${ lazyImg })` } }>\n      <LazyLoad>\n        <img height=\"100%\" src={ img } alt=\"图片\" title={ title } />\n      </LazyLoad>\n    </a>\n  )\n}\n","import React, { useContext } from 'react';\nimport { common } from '@/components/Index/Context'\n\nfunction PageItemNum (item, record, index, c) {\n  const { pagination: { current, pageSize } } = useContext(common);\n\n  const ItemNum = (current - 1) * pageSize + index + 1\n\n  return (<span>{ ItemNum }</span>)\n}\n\nexport const NumId = {\n  title: () => <em className=\"tb-title\">序号</em>,\n  render: PageItemNum,\n  align: 'center',\n  width: 100,\n  fixed: 'left',\n}\n","import React, { useContext } from 'react';\nimport { Select } from 'antd';\nimport { DURATION } from '@/config'\nimport { common } from '@/components/Index/Context'\n\nconst { Option } = Select;\n\nconst Selector = (item) => {\n  const { id, duration, durationLoading } = item\n  const { onSelectCrawlerDuration } = useContext(common);\n\n  return (\n    id === 1\n      ? (<Select\n        loading={ durationLoading }\n        defaultValue={ duration }\n        style={ { width: 150 } }\n        onChange={ (value) => onSelectCrawlerDuration(item, value) }>\n        { DURATION.map(({ text, value }, idx) => (\n          <Option key={ idx } value={ value }>{ text }</Option>\n        )) }\n      </Select>)\n      : ''\n  );\n};\n\nexport {\n  Selector\n};\n","import React from 'react';\nimport { Button } from 'antd';\nimport { UploadOutlined, DownloadOutlined } from '@ant-design/icons';\n\nconst ColumnStatus = (text, { statusLoading }) =>\n(\n  <Button\n    ghost\n    loading={ statusLoading }\n    className=\"state-btn\"\n    data-type=\"status\"\n    data-status={ text ? 0 : 1 }\n    icon={ text ? <DownloadOutlined className=\"icon\" /> : <UploadOutlined className=\"icon\" /> }\n    type={ text ? 'danger' : 'primary' }>\n    { text ? '下架' : '上架' }\n  </Button>\n)\n\nexport const Status = {\n  title: () => <em className=\"tb-title\">操作</em>,\n  width: 250,\n  align: 'center',\n  dataIndex: 'status',\n  fixed: 'right',\n  filters: [\n    { text: '已上架', value: 1 },\n    { text: '已下架', value: 0 }\n  ],\n  onFilter: (value, record) => record.status.toString().includes(value),\n  render: ColumnStatus\n}\n","import React, { useContext } from 'react';\nimport { Switch } from 'antd';\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons';\nimport { common } from '@/components/Index/Context'\n\nconst AutoAsyncSwitch = (item) => {\n  const { switchLoading, switch_type } = item\n  const { onAutoAsyncDataChange } = useContext(common);\n\n  return (\n    <Switch\n      loading={ switchLoading }\n      onChange={ () => onAutoAsyncDataChange(item) }\n      checkedChildren={ <CheckOutlined /> }\n      unCheckedChildren={ <CloseOutlined /> }\n      defaultChecked={ switch_type }\n      checked={ switch_type }\n    />\n  );\n}\n\nexport {\n  AutoAsyncSwitch\n};\n","import React, { useContext, useEffect, useCallback, useState } from 'react';\nimport { Button, Input } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\nimport { common } from '@/components/Index/Context'\nimport { useLocation } from 'react-router'\n\nlet ref = null\n\nconst FilterDropdown = ({\n  setSelectedKeys,\n  selectedKeys,\n  confirm,\n  clearFilters,\n  dataIndex }) => {\n\n  const { onSearchData, onRestoreSearch, refreshClearFilterCount } = useContext(common);\n  const { pathname } = useLocation();\n  const [isFirst, setIsFirst] = useState(true)\n\n  const handleSearch = ([kw], confirm, dataIndex) => {\n    if (kw && kw.length > 0) {\n      onSearchData(kw, dataIndex);\n    }\n\n    confirm();\n  }\n\n  const handleReset = useCallback((clearFilters) => {\n    clearFilters()\n    onRestoreSearch()\n  }, [onRestoreSearch]);\n\n  useEffect(() => {\n    // 第一次不执行\n    if (!isFirst) {\n      clearFilters()\n    }\n    isFirst && setIsFirst(false)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname, refreshClearFilterCount])\n\n  return (\n    <div style={ { padding: 8 } }>\n      <Input\n        ref={ (node) => (ref = node) }\n        placeholder={ `Search ${ dataIndex }` }\n        value={ selectedKeys[0] }\n        onChange={ (e) =>\n          setSelectedKeys(e.target.value ? [e.target.value] : [])\n        }\n        onPressEnter={ () => handleSearch(selectedKeys, confirm, dataIndex) }\n        style={ { width: 188, marginBottom: 8, display: 'block' } }\n      />\n\n      <Button\n        type=\"primary\"\n        onClick={ () => handleSearch(selectedKeys, confirm, dataIndex) }\n        icon={ <SearchOutlined /> }\n        size=\"small\"\n        style={ { width: 90, marginRight: 8 } }>\n        Search\n      </Button>\n\n      <Button\n        onClick={ () => handleReset(clearFilters) }\n        size=\"small\"\n        style={ { width: 90 } }>\n        Reset\n      </Button>\n    </div>\n  )\n}\n\nconst ColumnSearchProps = (dataIndex) => {\n  return {\n    filterDropdown: (opts) => (\n      <FilterDropdown dataIndex={ dataIndex } { ...opts } />\n    ),\n    filterIcon: (filtered) => (\n      <SearchOutlined style={ { color: filtered ? '#1890ff' : undefined } } />\n    ),\n    onFilter: (value, record) => (\n      record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\n    ),\n    onFilterDropdownVisibleChange: (visible) => {\n      visible && setTimeout(() => ref.input.select());\n    }\n  };\n};\n\nexport default ColumnSearchProps;\n","import React from 'react';\nimport ColumnSearchProps from '../ColumnSearchProps';\n\nexport const Title = {\n  title: () => <em className=\"tb-title\">标题</em>,\n  dataIndex: 'title',\n  fixed: 'left',\n  align: 'center',\n  width: 150,\n  ...ColumnSearchProps('title'),\n  render: (text, { href }) => (\n    <a\n      href={ href }\n      rel=\"noopener noreferrer\"\n      target=\"_blank\"\n      className=\"course-name\">\n      { text }\n    </a>\n  )\n}\n","import React from 'react';\nimport { Tag } from 'antd';\n\nexport const UpName = {\n  title: () => <em className=\"tb-title\">Up主</em>,\n  align: 'center',\n  width: 150,\n  dataIndex: 'up_name',\n  render: (text, { up_href }) => (\n    <a href={ up_href } target=\"_blank\" rel=\"noopener noreferrer\">\n      <Tag color=\"purple\">{ text }</Tag>\n    </a>\n  )\n}\n","import React from 'react';\nimport { Tag } from 'antd'\n\nexport const UpdatedAt = {\n  title: () => <em className=\"tb-title\">最新更新</em>,\n  dataIndex: 'updatedAt',\n  align: 'center',\n  width: 150,\n  render: (text, item) => <Tag>{ text }</Tag>\n}\n","import React from 'react';\nimport { sorter } from '@/utils/tools';\nimport { Tag } from 'antd';\n\n\nexport const ThumbCount = {\n  title: () => <em className=\"tb-title\">点赞量</em>,\n  dataIndex: 'thumb_count',\n  align: 'center',\n  sorter,\n  width: 120,\n  render: (text) => <Tag color=\"red\">{ text }</Tag>\n}\n","import React from 'react';\nimport { sorter } from '@/utils/tools';\nimport { Tag } from 'antd';\n\nexport const PlayCount = {\n  title: () => <em className=\"tb-title\">播放量</em>,\n  dataIndex: 'play_count',\n  align: 'center',\n  sorter,\n  width: 150,\n  render: (text) => <Tag>{ text }</Tag>\n}\n","import React from 'react';\nimport { Tag } from 'antd';\n\nexport const Duration = {\n  title: () => <em className=\"tb-title\">时长</em>,\n  dataIndex: 'duration',\n  align: 'center',\n  width: 150,\n  render: (text) => (<Tag>{ text }</Tag>)\n}\n","import React from 'react';\nimport LazyLoad from 'react-lazy-load';\nimport lazyImg from '@/assets/images/avatar-lazy.webp';\n\nexport const UpImg = {\n  title: () => <em className=\"tb-title\">Up主头像</em>,\n  dataIndex: 'up_img',\n  align: 'center',\n  width: 120,\n  render: (img) => (\n    <div className=\"up-img\" style={ { backgroundImage: `url(${ lazyImg })` } }>\n      <LazyLoad>\n        <img height=\"100%\" src={ img } alt=\"头像\" />\n      </LazyLoad>\n    </div>\n  )\n}\n","import React from 'react';\nimport { sorter } from '@/utils/tools';\nimport { Tag } from 'antd';\n\nexport const LiveCount = {\n  title: () => <em className=\"tb-title\">观看人数</em>,\n  dataIndex: 'live_count',\n  align: 'center',\n  width: 200,\n  sorter,\n  render: (text) => <Tag>{ text }</Tag>\n}\n","import React from 'react';\nimport { Tag } from 'antd';\n\nexport const TagType = {\n  title: () => <em className=\"tb-title\">标签</em>,\n  dataIndex: 'tag',\n  align: 'center',\n  width: 100,\n  render: (text) => (\n    <Tag color=\"lime\">{ text }</Tag>\n  )\n}\n","import React, { useContext } from 'react';\nimport { Select, Tag } from 'antd';\nimport { BILI } from '@/config'\nimport { common } from '@/components/Index/Context'\n\nconst { Option } = Select;\nconst { FIELD } = BILI;\n\nconst colors = ['magenta', 'red', 'volcano', 'orange', 'gold', 'lime', 'green', 'cyan', 'blue', 'geekblue', 'purple'];\nconst maxIdx = colors.length - 1;\n\nconst tagRender = (props) => {\n  const { label, closable, onClose } = props;\n\n  const idx = Math.floor(Math.random() * maxIdx) + 1;\n  const color = colors[idx];\n\n  return (\n    <Tag color={ color } closable={ closable } onClose={ onClose } style={ { marginRight: 3 } }>\n      { label }\n    </Tag>\n  );\n}\n\nconst SelectTags = ({ data }) => {\n  const { tags, tagsLoading } = data;\n  const { onSelectChange } = useContext(common);\n\n  return (\n    <Select\n      mode=\"multiple\"\n      loading={ tagsLoading }\n      tagRender={ tagRender }\n      defaultValue={ tags }\n      style={ { width: 150 } }\n      onChange={ (value) => onSelectChange(value, data) }>\n      { FIELD.map((item, idx) => (\n        <Option key={ idx } value={ item }>{ item }</Option>\n      )) }\n    </Select>\n  );\n};\n\nexport { SelectTags };\n","import React from 'react';\nimport { SelectTags } from './SelectTags';\nimport { BILI } from '@/config'\n\nconst { FIELD } = BILI\n\nexport const Tags = {\n  title: () => <em className=\"tb-title\">视频分类</em>,\n  align: 'center',\n  width: 250,\n  dataIndex: 'tags',\n  onFilter: (value, { tags }) => tags.includes(value),\n  filters: FIELD.map((item) => ({ text: item, value: item })),\n  render: (text, data) => <SelectTags data={ data } />\n}\n","import React from 'react';\nimport { Tag } from 'antd'\n\nexport const Score = {\n  title: () => <em className=\"tb-title\">分数</em>,\n  align: 'center',\n  width: 120,\n  dataIndex: 'score',\n  sorter: (a, b) => a.score - b.score,\n  render: (text) => <Tag color=\"cyan\">{ text }</Tag>\n\n}\n","import React from 'react';\nimport { Tag } from 'antd'\n\nexport const PopupCount = {\n  title: () => <em className=\"tb-title\">弹幕量</em>,\n  align: 'center',\n  width: 150,\n  dataIndex: 'popup_count',\n  sorter: (a, b) => a.popup_count - b.popup_count,\n  render: (text) => <Tag>{ text }</Tag>\n}\n","import { NumId, Title, CoverImg, UpdatedAt, Status } from '../Column';\n\nconst ColumnsCarousel = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsCarousel\n}\n","import React from 'react';\nimport { Button, Tag } from 'antd';\nimport { NumId, AutoAsyncSwitch, Selector, UpdatedAt } from '../Column';\n\n\nconst ColumnsCrawler = [\n  NumId,\n\n  {\n    title: () => <em className=\"tb-title\">数据名称</em>,\n    dataIndex: 'title',\n    align: 'center',\n    width: 250,\n    fixed: 'left',\n    render: (text, { color }) => (\n      <Tag color={ color } className=\"crawl-title\">\n        { text }\n      </Tag>\n    )\n  },\n\n  {\n    title: () => <em className=\"tb-title\">更新间隔</em>,\n    dataIndex: 'duration',\n    align: 'center',\n    width: 200,\n    render: (text, item) => (<Selector { ...item } />)\n  },\n\n  UpdatedAt,\n\n  {\n    title: () => <em className=\"tb-title\">自动更新</em>,\n    dataIndex: 'switch_type',\n    align: 'center',\n    width: 150,\n    render: (text, item) => (<AutoAsyncSwitch { ...item } />)\n  },\n\n  {\n    title: () => <em className=\"tb-title\">操作</em>,\n    dataIndex: 'operator',\n    align: 'center',\n    width: 150,\n    fixed: 'right',\n    render: (value, item) => {\n      const { text, crawlLoading } = item\n      return (\n        // ? (<Tag icon={ loaded === 2\n        //   ? <CheckCircleOutlined color=\"success\" />\n        //   : <SyncOutlined spin /> } color=\"processing\">\n        //   success\n        // </Tag>)\n        <Button\n          ghost\n          loading={ crawlLoading }\n          className=\"state-btn\"\n          data-type=\"field\"\n          type=\"primary\">\n          { text }\n        </Button>\n      )\n    }\n  }\n];\n\nexport {\n  ColumnsCrawler\n}\n","import {\n  NumId,\n  Title,\n  CoverImg,\n  Status,\n  ThumbCount,\n  PlayCount,\n  UpdatedAt,\n  Duration\n} from '../Column';\n\nconst ColumnsESports = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  ThumbCount,\n\n  PlayCount,\n\n  Duration,\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsESports\n};\n","import {\n  NumId,\n  CoverImg,\n  Title,\n  UpdatedAt,\n  UpName,\n  Status,\n  LiveCount,\n  UpImg,\n  TagType\n} from '../Column';\n\nconst ColumnsLive = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  UpImg,\n\n  UpName,\n\n  LiveCount,\n\n  TagType,\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsLive\n};\n","import { NumId, CoverImg, Title, UpName, UpdatedAt, Status } from '../Column';\n\nconst ColumnsPromote = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  UpName,\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsPromote\n};\n","import { \n  NumId, \n  Title, \n  CoverImg, \n  UpdatedAt, \n  PlayCount, \n  PopupCount, \n  Tags, \n  UpName, \n  Status, \n  Score, } from '../Column';\n\nconst ColumnsDefault = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  UpName,\n\n  PlayCount,\n\n  PopupCount,\n\n  Score,\n\n  Tags,\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsDefault\n}\n","import {\n  NumId,\n  Title,\n  CoverImg,\n  UpdatedAt,\n  PlayCount,\n  PopupCount,\n  Tags,\n  LatestTip,\n  FavCount,\n  Status,\n  Score,\n} from '../Column';\n\nconst ColumnsDefault2 = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  LatestTip,\n\n  PlayCount,\n\n  PopupCount,\n\n  FavCount,\n\n  Score,\n\n  Tags,\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsDefault2\n}\n","import React from 'react';\nimport { Tag } from 'antd';\n\nexport const LatestTip = {\n  title: () => <em className=\"tb-title\">最新</em>,\n  align: 'center',\n  width: 150,\n  dataIndex: 'latest_tip',\n  render: (text) => (\n    <Tag color=\"lime\">{ text }</Tag>\n  )\n}\n","import React from 'react';\nimport { Tag } from 'antd';\n\nexport const FavCount = {\n  title: () => <em className=\"tb-title\">收藏量</em>,\n  align: 'center',\n  width: 150,\n  dataIndex: 'fav_count',\n  sorter: (a, b) => a.fav_count - b.fav_count,\n  render: (text) => <Tag>{ text }</Tag>,\n}\n","import {\n  NumId,\n  Title,\n  CoverImg,\n  UpdatedAt,\n  PlayCount,\n  PopupCount,\n  Tags,\n  Status,\n  Score,\n} from '../Column';\n\nconst ColumnsOrigin = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  PlayCount,\n\n  PopupCount,\n\n  Score,\n\n  Tags,\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsOrigin\n}\n","import { NumId, Title, CoverImg, UpdatedAt, Status, PlayCount, UpName } from '../Column';\n\nconst ColumnsRecord = [\n  NumId,\n\n  CoverImg,\n\n  Title,\n\n  UpName,\n\n  PlayCount,\n\n\n  UpdatedAt,\n\n  Status,\n];\n\nexport {\n  ColumnsRecord\n}\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  forwardRef,\n  useImperativeHandle\n} from 'react';\nimport { Table } from 'antd';\nimport { message } from 'antd';\nimport * as APICrawl from '@/api/crawl';\nimport * as APIData from '@/api/data';\nimport { BILI } from '@/config';\n// import { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { findParent } from '@/utils/tools';\nimport { common } from '@/components/Index/Context';\nimport {\n  ColumnsDefault2,\n  ColumnsDefault,\n  ColumnsCarousel,\n  ColumnsCrawler,\n  ColumnsESports,\n  ColumnsLive,\n  ColumnsPromote,\n  ColumnsOrigin,\n  ColumnsRecord,\n} from '@/components/Common/Columns'\n\nconst { CRAWLER } = BILI;\n\nconst { Provider } = common\n\nconst API_MODELS = {\n  1: APICrawl.crawlerSettingsUpdate,\n  2: APIData.updateData,\n}\n\nconst COLUMNS = {\n  bangumi: ColumnsDefault2,\n  movie: ColumnsDefault2,\n\n  full: ColumnsDefault,\n  rookie: ColumnsDefault,\n\n  carousel: ColumnsCarousel,\n  record: ColumnsRecord,\n  crawler: ColumnsCrawler,\n  e_sports: ColumnsESports,\n  live: ColumnsLive,\n  promote: ColumnsPromote,\n  origin: ColumnsOrigin,\n}\n\nconst CommonContent = forwardRef((props, ref) => {\n  const { pathname, cache, setCache, setLoading, loading } = props;\n  const [columns, setColumns] = useState([])\n  const { push } = useHistory();\n  const [data, setData] = useState([]);\n  const [pageSize, setPageSize] = useState(10);\n  const [currentPage, setCurrentPage] = useState(1)\n  const [searchCount, setSearchCount] = useState(-1);\n  const [curPathname, setCurPathname] = useState('');\n  const [refreshClearFilterCount, setRefreshClearFilterCount] = useState(0)\n  const isCrawlerSettings = pathname === '/crawler'\n\n  const _setCache = useCallback(({ curPage = currentPage, pgSize = pageSize, newData, total } = {}) => {\n    const obj = cache[pathname]\n\n    if (obj && pgSize === pageSize) {\n      newData && (obj.data[curPage - 1] = newData)\n    }\n    else {\n      cache[pathname] = {\n        total: 0,\n        data: []\n      }\n    }\n\n    total != null && (cache[pathname].total = total)\n\n    setCache({ ...cache })\n  }, [cache, currentPage, pageSize, pathname, setCache])\n\n  const checkCache = useCallback(({ curPage, pgSize }) => {\n    const res = cache[pathname];\n    // console.log('pg-size', pgSize, pageSize)\n\n    if (res && pgSize === pageSize) {\n      const { data = [] } = res;\n\n      if (data[curPage - 1]) {\n        return [...data[curPage - 1]]\n      }\n    }\n\n    _setCache({ curPage, pgSize })\n    return []\n\n  }, [pageSize, cache, pathname, _setCache]);\n\n  const getData = useCallback(async ({ curPage = currentPage, pgSize = pageSize } = {}) => {\n    const field = pathname.slice(1);\n\n    let ret = checkCache({ curPage, pgSize })\n    // console.log('ret', curPage, ret, pgSize)\n\n    if (ret.length) {\n      setData(ret)\n      return\n    }\n\n    setLoading(true);\n    setData([])\n\n    const [err, res0] = isCrawlerSettings\n      ? await APICrawl.crawlerSettings()\n      : await APIData.getData({ field, page: curPage, num: pgSize })\n\n    setLoading(false);\n\n    if (err) {\n      const { msg, code } = err;\n      message.error(msg);\n      code === -1 && push('/login')\n      return;\n    }\n\n    const { code, msg, data: res } = res0;\n\n    if (code !== 0) {\n      message.error(msg);\n    }\n\n    const result = isCrawlerSettings\n      ? res.data.map((item, idx) => {\n\n        return {\n          ...CRAWLER[idx],\n          ...item,\n          statusLoading: false,\n          durationLoading: false,\n          crawlLoading: false,\n          switchLoading: false,\n        }\n      })\n      : res.data.map((item, idx) => ({\n        ...item,\n        tags: item.tags ? JSON.parse(item.tags) : item.tags,\n        statusLoading: false,\n        tagsLoading: false,\n        crawlLoading: false,\n        switchLoading: false,\n      }))\n\n    if (result.length > 0) {\n      _setCache({ curPage, pgSize, newData: result, total: res.total })\n      setData(result)\n    }\n\n    message.success(msg);\n\n  }, [_setCache, checkCache, currentPage, isCrawlerSettings, pageSize, pathname, push, setLoading]);\n\n  const returnNewData = (newItem) =>\n    data.map(d => {\n      if (d.id === newItem.id) {\n        return newItem\n      }\n      return d\n    })\n\n  const updateData = async (modelType, item, obj) => {\n    const newItem = Object.assign({}, item)\n    let isStatusLoading = false,\n      isDurationLoading = false,\n      isTagsLoading = false,\n      isSwitchLoading = false\n\n    for (const key in obj) {\n      if (Object.hasOwnProperty.call(item, key)) {\n        newItem[key] = obj[key]\n\n        if (key === 'duration') {\n          isDurationLoading = true\n        }\n\n        if (key === 'status') {\n          isStatusLoading = true\n        }\n\n        if (key === 'switch_type') {\n          isSwitchLoading = true\n        }\n\n        if (key === 'tags') {\n          isTagsLoading = true\n        }\n      }\n    }\n\n    newItem.statusLoading = isStatusLoading\n    newItem.durationLoading = isDurationLoading\n    newItem.tagsLoading = isTagsLoading\n    newItem.switchLoading = isSwitchLoading\n    setData(returnNewData(newItem))\n\n    const [err, ret] = await API_MODELS[modelType](newItem)\n\n    newItem.statusLoading = false\n    newItem.durationLoading = false\n    newItem.switchLoading = false\n    newItem.tagsLoading = false\n\n    setData(returnNewData(item))\n\n    if (err) {\n      const { msg, code } = err\n      message.error(msg)\n      code === -1 && push('/login')\n      return\n    }\n\n    const { code, msg, data: data0 } = ret;\n\n    if (code === 0) {\n      const newData = returnNewData({ ...newItem, ...data0 })\n\n      message.success(msg);\n      setData(newData)\n      return;\n    }\n\n    message.error(msg);\n  };\n\n  const resetData = () => {\n    delete cache[pathname]\n    _setCache({})\n  }\n\n  const refreshData = () => {\n    resetData()\n    onRestoreSearch()\n  }\n\n  const crawling = async (item) => {\n    item.crawlLoading = true\n    setData([...data]);\n\n    const { field, id } = item\n    const [err, res] = await APICrawl.crawlerData({ field, id });\n\n    item.crawlLoading = false\n\n    setData([...data])\n    resetData(field)\n\n    if (err) {\n      const { code, msg } = err\n      message.error(msg);\n      code === -1 && push('/login')\n      return;\n    }\n\n    const { code, msg, data: ret } = res;\n\n    if (code === 0) {\n      Object.assign(item, ret)\n      setData([...data]);\n      message.success(msg);\n      return;\n    }\n\n    message.error(msg);\n  };\n\n  const onAutoAsyncDataChange = async (item) => {\n    await updateData(1, item, { switch_type: item.switch_type ? 0 : 1 })\n  }\n\n  const onSelectCrawlerDuration = async (item, value) => {\n    await updateData(1, item, { duration: value })\n  }\n\n  const onTableClick = (ev, record) => {\n    const { target, srcElement } = ev || window.event;\n    const parent = findParent(target || srcElement, 'state-btn');\n\n    if (!parent) {\n      return;\n    }\n\n    let { type } = parent.dataset;\n\n    switch (type) {\n      case 'status':\n        updateData(2, record, { status: record.status ? 0 : 1 })\n        break;\n\n      case 'field':\n        crawling(record);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const onSelectChange = async (tags, item) => {\n    const { id, status } = item;\n\n    const field = pathname.slice(1);\n\n    item.tagsLoading = true;\n    setData([...data]);\n\n    const [err, res] = await APIData.updateData({ field, tags, id, status })\n\n    item.tagsLoading = false;\n\n    if (err) {\n      const { code, msg } = err;\n      message.error(msg);\n      code === -1 && push('/login')\n      return;\n    }\n\n    const { code, msg } = res;\n\n    if (code === 0) {\n      item.tags = tags;\n      message.success(msg);\n      setData([...data]);\n      return;\n    }\n\n    message.error(msg);\n    setData([...data]);\n  };\n\n  const onPageChange = (curPage, pgSize) => {\n    setCurrentPage(curPage)\n    getData({ curPage, pgSize })\n  }\n\n  const onShowSizeChange = (curPage, pgSize) => {\n    setPageSize(pgSize);\n  };\n\n  const onRestoreSearch = useCallback(() => {\n    setSearchCount(-1)\n    getData()\n  }, [getData])\n\n  const onSearchData = async (kw) => {\n    setLoading(true);\n\n    const field = pathname.slice(1);\n    const [err, result] = await APIData.searchData({ field, kw })\n\n    setLoading(false);\n\n    if (err) {\n      const { code, msg } = err\n      message.error(msg);\n      code === -1 && push('/login')\n      return;\n    }\n\n    const { code, data: res, msg } = result;\n\n    if (code === 0) {\n      setData(res.data);\n      setSearchCount(res.total);\n      message.success(msg)\n      return\n    }\n\n    message.error(msg)\n  }\n\n  const ret = cache[pathname];\n  const total = searchCount === -1\n    ? (ret ? ret.total : 0)\n    : searchCount;\n\n  const pagination = {\n    showTotal: (total) => `共${ total }条`,\n    pageSize,\n    showQuickJumper: true,\n    showSizeChanger: true,\n    current: currentPage,\n    onChange: onPageChange,\n    onShowSizeChange,\n    total,\n  };\n\n  const commonValue = {\n    pagination,\n    refreshClearFilterCount,\n    onAutoAsyncDataChange,\n    onSelectCrawlerDuration,\n    onSelectChange,\n    onPageChange,\n    onShowSizeChange,\n    onSearchData,\n    onRestoreSearch,\n  }\n\n  useEffect(() => {\n    if (pathname !== curPathname) {\n      setCurPathname(pathname);\n      setColumns(COLUMNS[pathname.slice(1)])\n      setCurrentPage(1)\n      onRestoreSearch(1)\n      setRefreshClearFilterCount(0)\n    }\n  }, [curPathname, onRestoreSearch, pathname]);\n\n  useImperativeHandle(ref, () => ({\n    refreshData,\n    setRefreshClearFilterCount,\n  }))\n\n  return (\n    <Provider value={ commonValue }>\n      <Table\n        loading={ loading }\n        columns={ columns }\n        onRow={ (data) => ({ onClick: (e) => onTableClick(e, data) }) }\n        scroll={ { y: 530 } }\n        rowKey={ ({ id }) => id }\n        pagination={ pagination }\n        dataSource={ data }\n      />\n    </Provider>\n  );\n})\n\nexport default CommonContent;\n","import React, { useRef, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport Title from '@/components/Index/Common/Title'\nimport Content from '@/components/Index/Common/Content'\n\nconst CommonContent = (props) => {\n  let { pathname } = useLocation();\n\n  pathname === '/' && (pathname = '/crawler');\n\n  const ref = useRef(null)\n\n  const [loading, setLoading] = useState(false);\n  const [cache, setCache] = useState({});\n\n  const titleProps = { contentRef: ref, pathname, loading };\n\n  const childrenProps = {\n    loading,\n    pathname,\n    setLoading,\n    cache,\n    setCache,\n  }\n\n  return (<>\n    <Title { ...titleProps } />\n    <Content ref={ ref } { ...childrenProps } />\n  </>);\n};\n\nexport default CommonContent;\n"],"sourceRoot":""}