(this.webpackJsonpadmin_bili=this.webpackJsonpadmin_bili||[]).push([[9],{113:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u}));var n=36e5,r="https://bili-izilongwan.vercel.app/api",c=[{text:"\u6570\u636e\u722c\u866b",path:"/crawler"},{text:"\u8f6e\u64ad\u56fe",path:"/carousel"},{text:"\u65e5\u5e38\u8bb0\u5f55",path:"/record"},{text:"\u63a8\u5e7f",path:"/promote"},{text:"\u7535\u7ade\u8d5b\u4e8b",path:"/e_sports"},{text:"\u76f4\u64ading",path:"/live"},{text:"\u5168\u7ad9\u699c",path:"/full"},{text:"\u539f\u521b\u699c",path:"/origin"},{text:"\u65b0\u756a\u699c",path:"/bangumi"},{text:"\u7535\u5f71\u699c",path:"/movie"},{text:"\u65b0\u4eba\u699c",path:"/rookie"}],i=[{value:n,text:"\u6bcf\u4e00\u5c0f\u65f6"},{value:2*n,text:"\u6bcf\u4e24\u5c0f\u65f6"},{value:3*n,text:"\u6bcf\u4e09\u5c0f\u65f6"},{value:5*n,text:"\u6bcf\u4e94\u5c0f\u65f6"},{value:10*n,text:"\u6bcf\u5341\u5c0f\u65f6"},{value:24*n,text:"\u6bcf\u5341\u5c0f\u65f6"}],u={TITLE:{"/carousel":"\u8f6e\u64ad\u56fe","/record":"\u65e5\u5e38\u8bb0\u5f55","/promote":"\u63a8\u5e7f","/e_sports":"\u7535\u7ade\u8d5b\u4e8b","/live":"\u76f4\u64ading","/full":"\u5168\u7ad9\u699c","/origin":"\u539f\u521b\u699c","/bangumi":"\u65b0\u756a\u699c","/movie":"\u7535\u5f71\u699c","/rookie":"\u65b0\u4eba\u699c","/crawler":"\u6570\u636e\u722c\u866b"},CRAWLER:[{color:"magenta",text:"\u722c\u53d6\u6240\u6709"},{text:"\u722c\u53d6",color:"red"},{text:"\u722c\u53d6",color:"volcano"},{text:"\u722c\u53d6",color:"lime"},{text:"\u722c\u53d6",color:"orange"},{text:"\u722c\u53d6",color:"gold"},{text:"\u722c\u53d6",color:"purple"},{text:"\u722c\u53d6",color:"green"},{text:"\u722c\u53d6",color:"blue"},{text:"\u722c\u53d6",color:"geekblue"}],FIELD:["\u5168\u7ad9","\u52a8\u753b","\u56fd\u521b\u76f8\u5173","\u821e\u8e48","\u97f3\u4e50","\u6e38\u620f","\u79d1\u6280","\u6570\u7801","\u751f\u6d3b","\u9b3c\u755c","\u65f6\u5c1a","\u5a31\u4e50","\u7535\u5f71","\u756a\u5267","\u56fd\u4ea7\u52a8\u753b","\u7eaa\u5f55\u7247","\u7535\u5f71","\u7535\u89c6"]}},115:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return f}));var n=a(116),r=a.n(n),c=a(117),i=a(147),u=a.n(i),o=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:if(a=e.sent,n=a.data,c=n.retCode,i=n.retBody,u=n.retMsg,0!==c){e.next=10;break}return e.abrupt("return",[null,i]);case 10:return e.abrupt("return",[{code:c,msg:u}]);case 13:return e.prev=13,e.t0=e.catch(0),e.t0.message&&(e.t0.msg=e.t0.message),e.abrupt("return",[e.t0]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){return u.a.create().update(e).hex()},s=function(e,t){for(;e.classList&&!e.classList.contains(t);)e=e.parentNode;return e===document?null:e};function d(e,t){return e&&e.includes(t)?1e4*parseInt(e):e}function f(e,t){return d(e.thumb_count,"\u4e07")-d(t.thumb_count,"\u4e07")}},120:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(113);t.b={COMMON_API:"",GET_DATA:"data/get_data",SEARCH_DATA:"data/search_data",UPDATE_DATA_STATUS:"data/update_data_status",UPDATE_DATA_TAGS:"data/update_data_tags",CRAWL_DATA:"crawler/crawl_data",AUTO_ASYNC_DATA:"crawler/auto_async_data"};var r=n.d+"/captcha"},123:function(e,t,a){"use strict";var n=a(116),r=a.n(n),c=a(117),i=a(146),u=a.n(i),o=a(113),l=a(115),s=u.a.create({baseURL:o.d,timeout:6e4,withCredentials:!0});t.a=Object(c.a)(r.a.mark((function e(){var t,a,n,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,a=new Array(t),n=0;n<t;n++)a[n]=c[n];return e.abrupt("return",Object(l.a)((function(){return s.apply(void 0,a)})));case 2:case"end":return e.stop()}}),e)})))},382:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABHCAMAAAB4UkqjAAAAh1BMVEUAAADd3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0UCIZXAAAALHRSTlMAoJDx4OYL/DcGF+6+JNi4ycSIT2k6LPeWfRzTVPXPszEQrV0hpo12cEZAZFpRNIQAAAJVSURBVFjD7dbZcpswGIbhHwwSi81q8Ib33fnu//oatRIpmliDhQ/aaZ+TKInnjVgkhb4RJMhP9Fzo8PiD+vEA+JPnqS0+1dRHBJhibAzh2HNeekxP9Z8XBSMZM6SmRBYx65QeM6XsY3rKPqanLGMWqeDmOh0b/Io9+YHi3gKtdExgLznSlyjFMGnUphIMlcgY22C4DSPBxTu4IrXDe+yI6IDWbPSqGVoHoohDyip6XZVB4hFN1TgPyUaYQ5rSWQ0nZGcC6UyJukKypa4yIXX3HLLlqCdHX++HLRfS/9bbWvvHLSLNR3N6tRXdFwdxejekiYF4fDnWYa/WqSm2PqRCSy0hrbP5RxAaW8141N17tVbZ+S1fFYbWFF2+1lqg62BoBdAsqWOLroWhxTh+M8vmWuuaxp1WaWjRSn43yl35sHTLUjxiaWlqnYE4LZoJme3v13MibqepFZRL6otV5V+/Hv+xVvi+FsvZG1qh/LQ7uFXnF/HlwcEfYlDktW2r5EARUiXWc1xRWAC8tGwxsdJ9dcRnYrddMdtrjDZyAy3kXrSJ7O89u8zEZAIKxBRnFzbonWD3ZkfCrrmzP+6979nicjAnW3NZ4OS1R6GtVBa8drTek539up3NAgMvcv51WNZQitCiFBZQaqIMSrx1XrWNoWTy/w1r+hk+xjuMSVjGGC6WZ3S1xlDriqTKxzB+Ra3I4bDHne62drqmied57QR9z0D94dHnOEmvJ/pWAMm4ovL2TTcJ5cRyMlHrbkdG5c/5r82fYqt+K/iR89m2JrP9PEZyI80PsPxVT0P3FAEAAAAASUVORK5CYII="},384:function(e,t,a){e.exports=a.p+"static/media/avatar-lazy.fa56ccfe.webp"},398:function(e,t,a){"use strict";a.r(t);var n=a(127),r=a(0),c=a.n(r),i=a(21),u=a(403),o=a(406),l=a(113),s=l.a.TITLE,d=function(e){var t=e.pathname,a=e.loading,n=e.contentRef,r=s[t];return r?c.a.createElement("div",{className:"content-header"},c.a.createElement("h3",{className:"title"},r," ",a),c.a.createElement(u.a,{color:"green",className:"refresh",onClick:function(){var e=t.slice(1);n.current.setRefreshClearFilterCount((function(e){return e+1})),n.current.refreshData(e)}},c.a.createElement("span",{className:"text"},"\u5237\u65b0"),c.a.createElement(o.a,{spin:a}))):null},f=a(116),m=a.n(f),g=a(117),b=a(390),p=a(69),h=a(397),x=a(84),v=a(123),w=a(120),E=function(e,t){return Object(v.a)({url:w.b.COMMON_API,method:"post",data:{module:"crawler",method:e,params:t}})},O=function(e){return E("crawlerSettings",e)},j=function(e,t){return Object(v.a)({url:w.b.COMMON_API,method:"post",data:{module:"data",method:e,params:t}})},A=function(e){return j("getData",e)},C=function(e){return j("updateData",e)},S=a(115),k=c.a.createContext(),y=(c.a.createContext(),a(200)),L=a.n(y),I=a(382),N=a.n(I),_={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u5c01\u9762\u56fe\u7247")},dataIndex:"img",align:"center",fixed:"left",width:150,render:function(e,t){var a=t.title,n=t.href;return c.a.createElement("a",{href:n,rel:"noopener noreferrer",target:"_blank",className:"bili-img-wrap",style:{backgroundImage:"url(".concat(N.a,")")}},c.a.createElement(L.a,null,c.a.createElement("img",{height:"100%",src:e,alt:"\u56fe\u7247",title:a})))}};var R={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u5e8f\u53f7")},render:function(e,t,a,n){var i=Object(r.useContext)(k).pagination,u=(i.current-1)*i.pageSize+a+1;return c.a.createElement("span",null,u)},align:"center",width:100,fixed:"left"},D=a(204),P=D.a.Option,T=function(e){var t=e.id,a=e.duration,n=e.durationLoading,i=Object(r.useContext)(k).onSelectCrawlerDuration;return 1===t?c.a.createElement(D.a,{loading:n,defaultValue:a,style:{width:150},onChange:function(t){return i(e,t)}},l.b.map((function(e,t){var a=e.text,n=e.value;return c.a.createElement(P,{key:t,value:n},a)}))):""},F=a(140),W=a(407),M=a(408),z={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u64cd\u4f5c")},width:250,align:"center",dataIndex:"status",fixed:"right",filters:[{text:"\u5df2\u4e0a\u67b6",value:1},{text:"\u5df2\u4e0b\u67b6",value:0}],onFilter:function(e,t){return t.status.toString().includes(e)},render:function(e,t){var a=t.statusLoading;return c.a.createElement(F.a,{ghost:!0,loading:a,className:"state-btn","data-type":"status","data-status":e?0:1,icon:e?c.a.createElement(W.a,{className:"icon"}):c.a.createElement(M.a,{className:"icon"}),type:e?"danger":"primary"},e?"\u4e0b\u67b6":"\u4e0a\u67b6")}},Z=a(404),U=a(394),V=a(71),H=function(e){var t=e.switchLoading,a=e.switch_type,n=Object(r.useContext)(k).onAutoAsyncDataChange;return c.a.createElement(Z.a,{loading:t,onChange:function(){return n(e)},checkedChildren:c.a.createElement(U.a,null),unCheckedChildren:c.a.createElement(V.a,null),defaultChecked:a,checked:a})},q=a(400),B=a(211),J=null,G=function(e){var t=e.setSelectedKeys,a=e.selectedKeys,u=e.confirm,o=e.clearFilters,l=e.dataIndex,s=Object(r.useContext)(k),d=s.onSearchData,f=s.onRestoreSearch,m=s.refreshClearFilterCount,g=Object(i.g)().pathname,b=Object(r.useState)(!0),p=Object(n.a)(b,2),h=p[0],x=p[1],v=function(e,t,a){var r=Object(n.a)(e,1)[0];r&&r.length>0&&d(r,a),t()},w=Object(r.useCallback)((function(e){e(),f()}),[f]);return Object(r.useEffect)((function(){h||o(),h&&x(!1)}),[g,m]),c.a.createElement("div",{style:{padding:8}},c.a.createElement(q.a,{ref:function(e){return J=e},placeholder:"Search ".concat(l),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return v(a,u,l)},style:{width:188,marginBottom:8,display:"block"}}),c.a.createElement(F.a,{type:"primary",onClick:function(){return v(a,u,l)},icon:c.a.createElement(B.a,null),size:"small",style:{width:90,marginRight:8}},"Search"),c.a.createElement(F.a,{onClick:function(){return w(o)},size:"small",style:{width:90}},"Reset"))},Y=function(e){return{filterDropdown:function(t){return c.a.createElement(G,Object.assign({dataIndex:e},t))},filterIcon:function(e){return c.a.createElement(B.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return J.input.select()}))}}},X=Object(p.a)({title:function(){return c.a.createElement("em",{className:"tb-title"},"\u6807\u9898")},dataIndex:"title",fixed:"left",align:"center",width:150},Y("title"),{render:function(e,t){var a=t.href;return c.a.createElement("a",{href:a,rel:"noopener noreferrer",target:"_blank",className:"course-name"},e)}}),K={title:function(){return c.a.createElement("em",{className:"tb-title"},"Up\u4e3b")},align:"center",width:150,dataIndex:"up_name",render:function(e,t){var a=t.up_href;return c.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},c.a.createElement(u.a,{color:"purple"},e))}},Q={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u6700\u65b0\u66f4\u65b0")},dataIndex:"updatedAt",align:"center",width:150,render:function(e,t){return c.a.createElement(u.a,null,e)}},$={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u70b9\u8d5e\u91cf")},dataIndex:"thumb_count",align:"center",sorter:S.d,width:120,render:function(e){return c.a.createElement(u.a,{color:"red"},e)}},ee={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u64ad\u653e\u91cf")},dataIndex:"play_count",align:"center",sorter:S.d,width:150,render:function(e){return c.a.createElement(u.a,null,e)}},te={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u65f6\u957f")},dataIndex:"duration",align:"center",width:150,render:function(e){return c.a.createElement(u.a,null,e)}},ae=a(384),ne=a.n(ae),re={title:function(){return c.a.createElement("em",{className:"tb-title"},"Up\u4e3b\u5934\u50cf")},dataIndex:"up_img",align:"center",width:120,render:function(e){return c.a.createElement("div",{className:"up-img",style:{backgroundImage:"url(".concat(ne.a,")")}},c.a.createElement(L.a,null,c.a.createElement("img",{height:"100%",src:e,alt:"\u5934\u50cf"})))}},ce={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u89c2\u770b\u4eba\u6570")},dataIndex:"live_count",align:"center",width:200,sorter:S.d,render:function(e){return c.a.createElement(u.a,null,e)}},ie={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u6807\u7b7e")},dataIndex:"tag",align:"center",width:100,render:function(e){return c.a.createElement(u.a,{color:"lime"},e)}},ue=D.a.Option,oe=l.a.FIELD,le=["magenta","red","volcano","orange","gold","lime","green","cyan","blue","geekblue","purple"],se=le.length-1,de=function(e){var t=e.label,a=e.closable,n=e.onClose,r=Math.floor(Math.random()*se)+1,i=le[r];return c.a.createElement(u.a,{color:i,closable:a,onClose:n,style:{marginRight:3}},t)},fe=function(e){var t=e.data,a=t.tags,n=t.tagsLoading,i=Object(r.useContext)(k).onSelectChange;return c.a.createElement(D.a,{mode:"multiple",loading:n,tagRender:de,defaultValue:a,style:{width:150},onChange:function(e){return i(e,t)}},oe.map((function(e,t){return c.a.createElement(ue,{key:t,value:e},e)})))},me={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u89c6\u9891\u5206\u7c7b")},align:"center",width:250,dataIndex:"tags",onFilter:function(e,t){return t.tags.includes(e)},filters:l.a.FIELD.map((function(e){return{text:e,value:e}})),render:function(e,t){return c.a.createElement(fe,{data:t})}},ge={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u5206\u6570")},align:"center",width:120,dataIndex:"score",sorter:function(e,t){return e.score-t.score},render:function(e){return c.a.createElement(u.a,{color:"cyan"},e)}},be={title:function(){return c.a.createElement("em",{className:"tb-title"},"\u5f39\u5e55\u91cf")},align:"center",width:150,dataIndex:"popup_count",sorter:function(e,t){return e.popup_count-t.popup_count},render:function(e){return c.a.createElement(u.a,null,e)}},pe=[R,_,X,Q,z],he=[R,{title:function(){return c.a.createElement("em",{className:"tb-title"},"\u6570\u636e\u540d\u79f0")},dataIndex:"title",align:"center",width:250,fixed:"left",render:function(e,t){var a=t.color;return c.a.createElement(u.a,{color:a,className:"crawl-title"},e)}},{title:function(){return c.a.createElement("em",{className:"tb-title"},"\u66f4\u65b0\u95f4\u9694")},dataIndex:"duration",align:"center",width:200,render:function(e,t){return c.a.createElement(T,t)}},Q,{title:function(){return c.a.createElement("em",{className:"tb-title"},"\u81ea\u52a8\u66f4\u65b0")},dataIndex:"switch_type",align:"center",width:150,render:function(e,t){return c.a.createElement(H,t)}},{title:function(){return c.a.createElement("em",{className:"tb-title"},"\u64cd\u4f5c")},dataIndex:"operator",align:"center",width:150,fixed:"right",render:function(e,t){var a=t.text,n=t.crawlLoading;return c.a.createElement(F.a,{ghost:!0,loading:n,className:"state-btn","data-type":"field",type:"primary"},a)}}],xe=[R,_,X,$,ee,te,Q,z],ve=[R,_,X,re,K,ce,ie,Q,z],we=[R,_,X,K,Q,z],Ee=[R,_,X,K,ee,be,ge,me,Q,z],Oe=[R,_,X,{title:function(){return c.a.createElement("em",{className:"tb-title"},"\u6700\u65b0")},align:"center",width:150,dataIndex:"latest_tip",render:function(e){return c.a.createElement(u.a,{color:"lime"},e)}},ee,be,{title:function(){return c.a.createElement("em",{className:"tb-title"},"\u6536\u85cf\u91cf")},align:"center",width:150,dataIndex:"fav_count",sorter:function(e,t){return e.fav_count-t.fav_count},render:function(e){return c.a.createElement(u.a,null,e)}},ge,me,Q,z],je=[R,_,X,ee,be,ge,me,Q,z],Ae=[R,_,X,K,ee,Q,z],Ce=l.a.CRAWLER,Se=k.Provider,ke={1:function(e){return E("crawlerSettingsUpdate",e)},2:C},ye={bangumi:Oe,movie:Oe,full:Ee,rookie:Ee,carousel:pe,record:Ae,crawler:he,e_sports:xe,live:ve,promote:we,origin:je},Le=Object(r.forwardRef)((function(e,t){var a=e.pathname,u=e.cache,o=e.setCache,l=e.setLoading,s=e.loading,d=Object(r.useState)([]),f=Object(n.a)(d,2),v=f[0],w=f[1],k=Object(i.f)().push,y=Object(r.useState)([]),L=Object(n.a)(y,2),I=L[0],N=L[1],_=Object(r.useState)(10),R=Object(n.a)(_,2),D=R[0],P=R[1],T=Object(r.useState)(1),F=Object(n.a)(T,2),W=F[0],M=F[1],z=Object(r.useState)(-1),Z=Object(n.a)(z,2),U=Z[0],V=Z[1],H=Object(r.useState)(""),q=Object(n.a)(H,2),B=q[0],J=q[1],G=Object(r.useState)(0),Y=Object(n.a)(G,2),X=Y[0],K=Y[1],Q="/crawler"===a,$=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.curPage,n=void 0===t?W:t,r=e.pgSize,c=void 0===r?D:r,i=e.newData,l=e.total,s=u[a];s&&c===D?i&&(s.data[n-1]=i):u[a]={total:0,data:[]},null!=l&&(u[a].total=l),o(Object(p.a)({},u))}),[u,W,D,a,o]),ee=Object(r.useCallback)((function(e){var t=e.curPage,n=e.pgSize,r=u[a];if(r&&n===D){var c=r.data,i=void 0===c?[]:c;if(i[t-1])return Object(b.a)(i[t-1])}return $({curPage:t,pgSize:n}),[]}),[D,u,a,$]),te=Object(r.useCallback)(Object(g.a)(m.a.mark((function e(){var t,r,c,i,u,o,s,d,f,g,b,h,v,w,E,j,C,S=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.length>0&&void 0!==S[0]?S[0]:{},r=t.curPage,c=void 0===r?W:r,i=t.pgSize,u=void 0===i?D:i,o=a.slice(1),!(s=ee({curPage:c,pgSize:u})).length){e.next=6;break}return N(s),e.abrupt("return");case 6:if(l(!0),N([]),!Q){e.next=14;break}return e.next=11,O();case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,A({field:o,page:c,num:u});case 16:e.t0=e.sent;case 17:if(d=e.t0,f=Object(n.a)(d,2),g=f[0],b=f[1],l(!1),!g){e.next=27;break}return h=g.msg,v=g.code,x.b.error(h),-1===v&&k("/login"),e.abrupt("return");case 27:w=b.code,E=b.msg,j=b.data,0!==w&&x.b.error(E),(C=Q?j.data.map((function(e,t){return Object(p.a)({},Ce[t],{},e,{statusLoading:!1,durationLoading:!1,crawlLoading:!1,switchLoading:!1})})):j.data.map((function(e,t){return Object(p.a)({},e,{tags:e.tags?JSON.parse(e.tags):e.tags,statusLoading:!1,tagsLoading:!1,crawlLoading:!1,switchLoading:!1})}))).length>0&&($({curPage:c,pgSize:u,newData:C,total:j.total}),N(C)),x.b.success(E);case 32:case"end":return e.stop()}}),e)}))),[$,ee,W,Q,D,a,k,l]),ae=function(e){return I.map((function(t){return t.id===e.id?e:t}))},ne=function(){var e=Object(g.a)(m.a.mark((function e(t,a,r){var c,i,u,o,l,s,d,f,g,b,h,v,w,E,O,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in c=Object.assign({},a),i=!1,u=!1,o=!1,l=!1,r)Object.hasOwnProperty.call(a,s)&&(c[s]=r[s],"duration"===s&&(u=!0),"status"===s&&(i=!0),"switch_type"===s&&(l=!0),"tags"===s&&(o=!0));return c.statusLoading=i,c.durationLoading=u,c.tagsLoading=o,c.switchLoading=l,N(ae(c)),e.next=10,ke[t](c);case 10:if(d=e.sent,f=Object(n.a)(d,2),g=f[0],b=f[1],c.statusLoading=!1,c.durationLoading=!1,c.switchLoading=!1,c.tagsLoading=!1,N(ae(a)),!g){e.next=24;break}return h=g.msg,v=g.code,x.b.error(h),-1===v&&k("/login"),e.abrupt("return");case 24:if(w=b.code,E=b.msg,O=b.data,0!==w){e.next=30;break}return j=ae(Object(p.a)({},c,{},O)),x.b.success(E),N(j),e.abrupt("return");case 30:x.b.error(E);case 31:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),re=function(){delete u[a],$({})},ce=function(){re(),fe()},ie=function(){var e=Object(g.a)(m.a.mark((function e(t){var a,r,c,i,u,o,l,s,d,f,g;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.crawlLoading=!0,N(Object(b.a)(I)),a=t.field,r=t.id,e.next=5,E("crawlerData",{field:a,id:r});case 5:if(c=e.sent,i=Object(n.a)(c,2),u=i[0],o=i[1],t.crawlLoading=!1,N(Object(b.a)(I)),re(),!u){e.next=17;break}return l=u.code,s=u.msg,x.b.error(s),-1===l&&k("/login"),e.abrupt("return");case 17:if(d=o.code,f=o.msg,g=o.data,0!==d){e.next=23;break}return Object.assign(t,g),N(Object(b.a)(I)),x.b.success(f),e.abrupt("return");case 23:x.b.error(f);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(g.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(1,t,{switch_type:t.switch_type?0:1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(g.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(1,t,{duration:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(g.a)(m.a.mark((function e(t,r){var c,i,u,o,l,s,d,f,g,p,h;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.id,i=r.status,u=a.slice(1),r.tagsLoading=!0,N(Object(b.a)(I)),e.next=6,C({field:u,tags:t,id:c,status:i});case 6:if(o=e.sent,l=Object(n.a)(o,2),s=l[0],d=l[1],r.tagsLoading=!1,!s){e.next=16;break}return f=s.code,g=s.msg,x.b.error(g),-1===f&&k("/login"),e.abrupt("return");case 16:if(p=d.code,h=d.msg,0!==p){e.next=22;break}return r.tags=t,x.b.success(h),N(Object(b.a)(I)),e.abrupt("return");case 22:x.b.error(h),N(Object(b.a)(I));case 24:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(e,t){M(e),te({curPage:e,pgSize:t})},de=function(e,t){P(t)},fe=Object(r.useCallback)((function(){V(-1),te()}),[te]),me=function(){var e=Object(g.a)(m.a.mark((function e(t){var r,c,i,u,o,s,d,f,g,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),r=a.slice(1),e.next=4,j("searchData",{field:r,kw:t});case 4:if(c=e.sent,i=Object(n.a)(c,2),u=i[0],o=i[1],l(!1),!u){e.next=14;break}return s=u.code,d=u.msg,x.b.error(d),-1===s&&k("/login"),e.abrupt("return");case 14:if(f=o.code,g=o.data,b=o.msg,0!==f){e.next=20;break}return N(g.data),V(g.total),x.b.success(b),e.abrupt("return");case 20:x.b.error(b);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=u[a],be=-1===U?ge?ge.total:0:U,pe={showTotal:function(e){return"\u5171".concat(e,"\u6761")},pageSize:D,showQuickJumper:!0,showSizeChanger:!0,current:W,onChange:se,onShowSizeChange:de,total:be},he={pagination:pe,refreshClearFilterCount:X,onAutoAsyncDataChange:ue,onSelectCrawlerDuration:oe,onSelectChange:le,onPageChange:se,onShowSizeChange:de,onSearchData:me,onRestoreSearch:fe};return Object(r.useEffect)((function(){a!==B&&(J(a),w(ye[a.slice(1)]),M(1),fe(1),K(0))}),[B,fe,a]),Object(r.useImperativeHandle)(t,(function(){return{refreshData:ce,setRefreshClearFilterCount:K}})),c.a.createElement(Se,{value:he},c.a.createElement(h.a,{loading:s,columns:v,onRow:function(e){return{onClick:function(t){return function(e,t){var a=e||window.event,n=a.target,r=a.srcElement,c=Object(S.b)(n||r,"state-btn");if(c)switch(c.dataset.type){case"status":ne(2,t,{status:t.status?0:1});break;case"field":ie(t)}}(t,e)}}},scroll:{y:530},rowKey:function(e){return e.id},pagination:pe,dataSource:I}))}));t.default=function(e){var t=Object(i.g)().pathname;"/"===t&&(t="/crawler");var a=Object(r.useRef)(null),u=Object(r.useState)(!1),o=Object(n.a)(u,2),l=o[0],s=o[1],f=Object(r.useState)({}),m=Object(n.a)(f,2),g={contentRef:a,pathname:t,loading:l},b={loading:l,pathname:t,setLoading:s,cache:m[0],setCache:m[1]};return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,g),c.a.createElement(Le,Object.assign({ref:a},b)))}}}]);
//# sourceMappingURL=9.931c8a4b.chunk.js.map